function [] = CallKalmanFilter(inputs)


%Kalman Filter


[truex, z] = TrueX(inputs.F, inputs.xstart, inputs.B,... 
inputs.u, inputs.w, inputs.H, inputs.v);


[predx, predp, predy] = PredictedX(inputs.P,inputs.F, inputs.xstart,...
    inputs.B, inputs.u, inputs.Qk, inputs.H, inputs.Rk, z);


%yvalues = [yvalues xx];
yvalues = [yvalues calculate_RMSE(truex, predx)];
%yvalues = [yvalues inputs.xk-xx];



for i = 1:(n-2)
inputs.w = mvnrnd(zeros(size(inputs.Qk, 1), 1), inputs.Qk);
disp(inputs.w);
inputs.v = mvnrnd(zeros(size(inputs.Rk, 1), 1), inputs.Rk);

[truex, z] = TrueX(inputs.F, truex, inputs.B,... 
inputs.u, inputs.w, inputs.H, inputs.v);

[predx, predp, predy] = PredictedX(predp, inputs.F, predx,...
    inputs.B, inputs.u, inputs.Qk, inputs.H, inputs.Rk, z);



%yvalues = [yvalues xx]; 
yvalues = [yvalues calculate_RMSE(truex, predx)];
%yvalues = [yvalues inputs.xk-xx]; 
end

